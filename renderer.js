/*! SoftwareRenderer - ver. 0.1.0 */
function drawInit(){var a=document.getElementById("render");if(a.getContext){var b=a.getContext("2d"),c=Object.create(Img),d=Object.create(OBJmodel);c.init(b),console.log("canvas loaded"),c.clear(),d.load("obj/head.obj"),c.set(52,141,16777215),start=new Date;for(var e=0;1e6>e;e++)c.line(13,20,80,40,16777215),c.line(20,13,40,80,16711680),c.line(80,40,13,20,16711680);end=new Date;var f="Execution took "+(end.getTime()-start.getTime())+" ms";c.flush(),document.getElementById("info").innerHTML=f,console.log(f)}else console.error("Canvas context not supported!")}var Img=new Object;Img.ctx=null,Img.imgData=null,Img.util=null,Img.init=function(a){this.ctx=a,this.util=Object.create(Util),this.calls=0;var b=a.canvas.clientWidth;for(this.log2width=1;b>>=1;)this.log2width++;this.w=1<<this.log2width,this.h=a.canvas.clientHeight,this.imgData=a.createImageData(this.w,this.h),this.buf=new ArrayBuffer(this.imgData.data.length),this.buf8=new Uint8ClampedArray(this.buf),this.buf32=new Uint32Array(this.buf),a.translate(0,this.h),a.scale(1,-1)},Img.clear=function(a){const b=this.buf32.length;for(var c=0;b>c;c++)this.buf32[c]=4278190080},Img.set=function(a,b,c){const d=(b<<this.log2width)+a;this.buf32[d]=(c<<8)+255,this.calls++},Img.line=function(a,b,c,d,e){var f=!1;Math.abs(a-c)<Math.abs(b-d)&&(b=[a,a=b][0],d=[c,c=d][0],f=!0),a>c&&(c=[a,a=c][0],d=[b,b=d][0]);const g=c-a,h=d-b,i=Math.abs(h/g);for(var j=0,k=b,l=a;c>=l;l++)f?this.set(l,k,e):this.set(k,l,e),j+=i,j>.5&&(k+=d>b?1:-1,j--)},Img.flush=function(){this.imgData.data.set(this.buf8),this.ctx.putImageData(this.imgData,0,0),console.log("Pixel draw calls: "+this.calls)};var Util=new Object,OBJmodel=new Object;OBJmodel.load=function(a){var b=new XMLHttpRequest;b.open("GET",a,!0),b.onload=function(){if(200===b.status||0==b.status){b.responseText}},b.send(null)};